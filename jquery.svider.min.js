/*Svider.js|@author:ScottMunn.com|@version:1.0*/var settings;var svider_default_settings={autocenter:false,autoplay:false,autoplay_slide_duration:4e3,autoselect:true,autosize:false,css_active_name:"current",get current_class(){return"."+this.css_active_name},easing:"swing",fade_text:true,fade_text_selectors:"h1,.summary",hide_transitions:false,hover_activate:false,svider_caption:"svider_current_description",orientation_event:"onorientationchange"in window?"orientationchange":"resize",resizable:true,selector:{slider:".svider",nav:".svider-nav",panel:".svider-panel",panels:".svider-panels",viewport:".svider-viewport"},swipe:true,swipe_threshold:30,touch_start_event:"ontouchstart"in document.documentElement?"touchstart":"mousedown",touch_move_event:"ontouchmove"in document.documentElement?"touchmove":"mousemove",touch_end_event:"ontouchend"in document.documentElement?"touchend":"mouseup",touch_mode:"swipe",transition_speed:300};(function(e){var t={click:function(n){var r=new cloneObject(svider_default_settings);return this.each(function(){if(n){e.extend(r,n)}if(e(this).hasClass(r.css_active_name)){return}var i=e(this),s=e(this).parents(r.selector.slider).first(),o=e(this).index();i.addClass(r.css_active_name);t.go.apply(s,[o,null,r])})},init:function(n){settings=new cloneObject(svider_default_settings);if("onhashchange"in window){e(window).bind("hashchange",function(){t.hash_changed()})}if(window.location.hash){var r=window.location.hash;var i=e(settings.selector.nav).find('li a[href="'+r+'"]');if(i.length==1){index=i.parent("li").index();i.parent("li").addClass(settings.css_active_name).siblings().removeClass(settings.css_active_name);t.update_hashlinks(r)}}return this.each(function(){var r=e(this);var i=new cloneObject(svider_default_settings);i._m=e(r);i._id=r.attr("id");if(r.hasClass("hasBeensviderd")){}else{r.trigger("init");r.addClass("hasBeensviderd");if(n){e.extend(i,n)}if(r.hasClass("autocenter")||r.attr("data-left-offset")=="center"){i.autocenter=true}if(r.hasClass("autoplay")){i.autoplay=true}if(r.hasClass("autosize")){i.autosize=true}else{i.autosize=false}if(r.hasClass("clickToFocus")){i.clickToFocus=true}if(r.hasClass("fixed")){i.resizable=false}if(r.hasClass("hover-activate")){i.hover_activate=true}else{i.hover_activate=false}if(r.hasClass("no-autoselect")){i.autoselect=false}else{i.autoselect=true}t.setup_controls.apply(r,[i]);if(i.autocenter){t.setup_autocenter.apply(r,[i])}if(i.autoplay){t.setup_autoplay.apply(r,[i])}if(i.autosize){t.setup_autosize.apply(r,[i])}if(i.clickToFocus){t.setup_clickToFocus.apply(r,[i])}if(i.swipe){t.setup_swipe.apply(r,[i])}r.each(function(){var n=e(this),r=0;var s=n.find(i.selector.nav).first().find(i.current_class);if(s.length>0){r=s.index()}if(r==0){t.go.apply(n,["initialize",null,i])}else{t.go.apply(n,[r,null,i])}var o=n.find(i.selector.panels).first().children(i.selector.panel).length;n.attr("data-original-length",o);if(i.resizable){var u=n.find(i.selector.panel).is(i.css_active_name).clientHeight;n.css({height:u+"px"});n.find(i.selector.viewport).css({height:u+"px"})}})}})},go:function(n,r,i){if(i==undefined){var s=new cloneObject(svider_default_settings)}else{var s=i}if(n==null){n=0}var o=e(this);return this.each(function(){var i=e(this),o=false,u=i.find(s.selector.panels).first().children(s.current_class).index(),a=i.find(s.selector.panels).first().children(s.selector.panel).length-1;if(u==-1){u=0}switch(n){case"initialize":if(s.autoselect){u=-1;n=0;s.fade_text=false;var f=true;var l=true}else{n=null}break;case s.css_active_name:n=u;o=true;break;case"next":if(i.hasClass("multiple")){var c=Math.floor(i.width()/i.find(s.selector.panel).width());n=parseInt(u+c);if(a-c<=n){n=a-c+1;i.addClass("current-page-last")}}else{n=parseInt(u+1)}break;case"prev":case"previous":if(i.hasClass("multiple")){var c=Math.floor(i.width()/i.find(s.selector.panel).width());n=parseInt(u-c);if(n<0){n=0}i.addClass("current-page-first")}else{n=parseInt(u-1)}break;case"first":n=0;break;case"last":n=a;break;case"random":n=u;while(n==u){n=Math.floor(Math.random()*(parseInt(a)+1))}break}if(n==null){return false}i.addClass("has-selection").removeClass("current-page-first current-page-last");if(i.is(".infinite")){t.setup_infinite.apply(i,[s,n,a])}else{if(n<0){n=a}if(n>a){n=0}}if(r!=null){n=r}if(u!=n||o){var h=i.find(s.selector.panels).first(),p=i.find(s.selector.viewport).first(),d=i.find(s.selector.nav).first(),v=parseInt(h.css("margin-left").replace("px",""),10),m=h.find(s.selector.panel),g=e(m.get(n)),y=g.outerHeight(),b=g.position(),w=parseInt(b.left,10)-parseInt(v,10),E=i.attr("data-left-offset");if(E&&E!="center"){w=w-E}var S=parseInt(i.css("padding-left").replace("px",""),10);w=w-S;d.find(s.current_class).removeClass(s.css_active_name);d.find("li:eq("+n+")").addClass(s.css_active_name);if(n==0){var x="first";var T="current-panel-first";var N="current-panel-last"}else if(n==a){var x="last";var T="current-panel-last";var N="current-panel-first"}else{var N="current-panel-first current-panel-last"}i.removeClass(N+" current-panel-"+i.attr("data-current-panel")).attr("data-current-panel",parseInt(n)+1).addClass(T+" current-panel-"+(parseInt(n)+1));if(x){i.trigger(x)}h.children(s.current_class).removeClass(s.css_active_name);g.addClass(s.css_active_name);t.update_caption(i,d,s,n);w=w*-1;if(s.hide_transitions&&u!=-1||f==true){var C=1}else{var C=s.transition_speed}t.move_svider(w,h,s,y,C,p);if(l){t.update_svider_height(p,h,s,y)}if(d){t.update_hashlinks(d.find(s.current_class).find("a").attr("href"))}setTimeout(function(){i.trigger("newPanel")},300)}})},hash_changed:function(){var n=window.location.hash;var r=e(settings.selector.nav).find('li a[href*="'+n+'"]');e("._autoCurrentHash").removeClass("_autoCurrentHash");e.each(r,function(){var n=e(this),r=n.parent("li").index(),i=n.parents(settings.selector.slider).first();i.trigger("hashUpdate");t.go.apply(i,[r])});t.update_hashlinks(n)},last:function(){return e(this).each(function(){t.go.apply(e(this),["last",null,settings])})},move_svider:function(e,t,n,r,i,s){t.animate({"margin-left":e},i,n.easing,function(){if(n.resizable==true&&r){t.animate({height:r+"px"},i/2);if(s!=undefined){s.animate({height:r+"px"},i/2)}}})},next:function(){return e(this).each(function(){t.go.apply(e(this),["next",null,settings])})},prev:function(){return e(this).each(function(){t.go.apply(e(this),["prev",null,settings])})},previous:function(){return e(this).each(function(){t.go.apply(e(this),["prev",null,settings])})},setup_autocenter:function(n){console.log("Settings up autocenter");if(this.attr("data-left-offset")=="center"){var r=(e(window).width()-this.find(n.selector.panel).width())/2;this.attr("data-left-offset",r).addClass("leftOffsetCentered");var i;e(window).on(n.orientation_event,function(){clearTimeout(i);i=setTimeout(function(){var r=e(".leftOffsetCentered");e.each(r,function(r,i){i=e(i);var s=(e(window).width()-i.find(n.selector.panel).width())/2;i.attr("data-left-offset",s).addClass("leftOffsetCentered");t.go.apply(i,[n.css_active_name,null,n])})},200)})}},setup_autoplay:function(n){console.log("Settings up autoplay");return this.each(function(){var r=e(this);r.hover(function(){e.data(this,"hover",true)},function(){e.data(this,"hover",false)}).data("hover",false).data("autoplay",true);r.find(n.selector.nav).click(function(){r.data("autoplay",false)});var i=setInterval(function(){if(!r.data("hover")&&r.data("autoplay")){t.go.apply(r,["next",null,n])}},svider_default_settings.autoplay_slide_duration);r.removeClass("autoplay-off").addClass("autoplay-on").hover(function(){clearInterval(i)},function(){i=setInterval(function(){if(!r.data("hover")&&r.data("autoplay")){t.go.apply(r,["next",null,n])}},svider_default_settings.autoplay_slide_duration)});e(".autoplay .pause").click(function(){var t=e(this).parents(svider_default_settings.selector.slider).first(),n=t.data("autoplay");if(n){e(this).html("play");t.removeClass("autoplay-on").addClass("autoplay-off").data("autoplay",false)}else{e(this).html("pause");t.removeClass("autoplay-off").addClass("autoplay-on").data("autoplay",true)}})})},setup_autosize:function(n){console.log("Checking autosize");return this.each(function(){if(n.autosize){console.log("Setting up autosize");var r=svider.width();svider.addClass("autosized").find(n.selector.panel).add(n.selector.viewport,svider).width(r);var i;e(window).on(n.orientation_event,function(){var e=svider.width();svider.find(n.selector.panel).add(n.selector.viewport,svider).width(e).attr("data-width","yes");clearTimeout(i);i=setTimeout(function(){t.go.apply(svider,[n.css_active_name,null,n])},200)})}})},setup_clickToFocus:function(n){console.log("Settings up clickToFocus");return this.each(function(){e(this).find(n.selector.panel).on("click",function(){if(!e(this).closest(n.selector.slider).hasClass("swiping")&&!e(this).hasClass(n.css_active_name)){var r=e(this).closest(n.selector.slider);r.trigger("clickToFocus");t.go.apply(r,[e(this).index()])}else{}});e(this).find(n.selector.panel).find("a").on("click",function(r){if(!e(this).closest(n.selector.panel).is(n.current_class)){t.go.apply(e(this).closest(n.selector.slider),[e(this).closest(n.selector.panel).index()]);return false}})})},setup_controls:function(n){return this.each(function(){var r=e(this);r.find(n.selector.nav).find("li").on("click",function(n){r.trigger("navClick");t.click.apply(e(this));return false});if(n.hover_activate){r.find(n.selector.nav).find("li").on("mouseover",function(n){r.trigger("navHover");t.click.apply(e(this))})}r.find(".svider_prev").first().on("click",function(r){var i=e(this).parents(n.selector.slider).first();i.trigger("prev");t.go.apply(i,["prev",null,n]);return false});r.find(".svider_next").first().on("click",function(r){var i=e(this).parents(n.selector.slider).first();i.trigger("next");t.go.apply(i,["next",null,n]);return false});r.find(".svider_first").first().on("click",function(r){var i=e(this).parents(n.selector.slider).first();i.trigger("first");t.go.apply(i,["first",null,n]);return false});r.find(".svider_last").first().on("click",function(r){var i=e(this).parents(n.selector.slider).first();i.trigger("last");t.go.apply(i,["last",null,n]);return false});r.find(".svider_random").first().on("click",function(r){var i=e(this).parents(n.selector.slider).first();i.trigger("random");t.go.apply(i,["random",null,n]);return false});r.find(".svider_deselect").first().on("click",function(r){var i=e(this).parents(n.selector.slider).first();i.trigger("deselect").removeClass("has-selection");i.find(n.current_class).removeClass(n.css_active_name);t.go.apply(i,["deselect",null,n]);return false})})},setup_infinite:function(t,n,r,i){if(t.hasClass("infinite")==true){var s=t.find(n.selector.panels).first(),o=e(s).children(n.selector.panel),u=s.width();if(t.attr("data-infinite-buffer")){var a=parseInt(t.attr("data-infinite-buffer"))+r}else{var a=r}if(a==i||a>i){o.clone().appendTo(s);s.width(u*2);i=i*2+1}if(r<0){r=i;o.clone().prependTo(s);s.width(u*2);i=i*2+1;r=i;var f=true}}else{if(r<0){r=i}if(r>i){r=0}}},setup_swipe:function(n){var r=e(this);if(n.swipe){console.log("Setting up swipe");r.on(n.touch_start_event,function(t){e(this).addClass("touching");var i=t.clientX,s=parseInt(e(this).find(n.selector.panels).css("margin-left"),10);if(n.touch_start_event=="mousedown"){t.preventDefault()}var o=t.pageX?t.pageX:t.originalEvent.changedTouches[0].pageX,u=t.pageY?t.pageY:t.originalEvent.changedTouches[0].pageY;e(this).data({start_x:o,start_y:u});if(n.touch_mode=="drag"){r.addClass("touch-event-occurring");r.on(n.touch_move_event,function(e){e.preventDefault();var t=e.pageX?e.pageX:e.originalEvent.changedTouches[0].pageX;var o=t-parseInt(i);var u=parseInt(s)+parseInt(o);r.find(n.selector.panels).css("margin-left",u)})}});r.on(n.touch_end_event,function(e){r.off(n.touch_move_event);setTimeout(function(){r.removeClass("touch-event-occurring").removeClass("swiping")},1e3);var i=false;var s,o,u=e.pageX?e.pageX:e.originalEvent.changedTouches[0].pageX,a=e.pageY?e.pageY:e.originalEvent.changedTouches[0].pageY;var f=r.data("start_x")-u,l=r.data("start_y")-a;if(f<0){s="left"}else if(f>0){s="right"}if(l<0){o="up"}else if(l>0){o="down"}if(Math.abs(f)>Math.abs(l)){if(Math.abs(f)>n.swipe_threshold){r.addClass("swiping");r.trigger("swiped");if(s=="left"){if(r.find(n.selector.panel).filter(n.current_class).index()!=0){t.go.apply(r,["prev",null,n]);i=true}else{var c=parseInt(r.find(n.selector.panels).css("margin-left"),10);var h=40;r.find(n.selector.panels).animate({"margin-left":c+h},n.transition_speed/2).animate({"margin-left":c},n.transition_speed,jQuery.easing["easeOutBounce"]?"easeOutBounce":n.easing);i=true}}else if(s=="right"){if(r.find(n.selector.panel).filter(n.current_class).index()!=parseInt(r.find(n.selector.panel).length-1)){t.go.apply(r,["next",null,n]);i=true}else{console.log();var c=parseInt(r.find(n.selector.panels).css("margin-left"));r.find(n.selector.panels).animate({"margin-left":c-40},n.transition_speed/2).animate({"margin-left":c},n.transition_speed,jQuery.easing["easeOutBounce"]?"easeOutBounce":n.easing);i=true}}}else{console.log("No")}}else{}r.data({start_x:null,end_x:null});if(n.touch_mode=="drag"&&i==false&&f>0){t.go.apply(r,[n.css_active_name,null,n])}if(i){e.stopPropagation();return false}})}},update_caption:function(t,n,r,i){if(t.find("."+r.svider_caption).length){var s=e(n).find("li:eq("+i+") .caption").html();if(s==null){var s=e(n).find("li:eq("+i+")").attr("title")}if(s){e(t).find("."+r.svider_caption).fadeTo(500,1).html(s)}else{e(t).find("."+r.svider_caption).fadeTo(500,0)}}},update_hashlinks:function(t){e("._autoCurrentHash").removeClass("_autoCurrentHash");if(t!=""&&t!="#"){e('a[href*="'+t+'"]').not(settings.selector.nav+' li a[href*="'+t+'"]').addClass("_autoCurrentHash")}},update_svider_height:function(e,t,n,r){if(n.hide_transitions){e.css({height:r+"px"});t.css({height:r+"px"})}else{e.animate({height:r+"px"},n.transition_speed/2);t.animate({height:r+"px"},n.transition_speed/2)}}};e.fn.svider=function(n,r){return this.each(function(){var i=e.extend(svider_default_settings,r);if(t[n]){return t[n].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof n==="object"||!n){return t.init.apply(e(this),arguments)}else{var s="Method "+n+" does not exist on jQuery.svider";if(typeof n=="number"){var o=e(this);console.log(o.find(i.selector.panel).length);if(o.find(i.selector.panel).length>=n+1){t.go.apply(o,[n,null,i]);s=false}else{s="This slider does not have that many panels.  Make sure you're using index, not numeric, position."}}if(s){e.error(s)}}})};if(e(svider_default_settings.selector.slider).is(".fade").length>0){e(svider_default_settings.selector.slider).is(".fade").not(".custom").svider("init",{hide_transitions:true})}if(e(svider_default_settings.selector.slider).not(".fade").not(".custom").length>0){e(svider_default_settings.selector.slider).not(".fade").not(".custom").svider()}})(jQuery);if(typeof cloneObject!=="function"){function cloneObject(e){for(i in e){if(typeof e[i]=="source"){this[i]=new cloneObject(e[i])}else{this[i]=e[i]}}}}